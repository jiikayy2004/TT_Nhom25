<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PowerFit Gym - N∆°i Kh·ªüi Ngu·ªìn S·ª©c M·∫°nh</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="./assets/css/style.css">
    
    <style>
        /* --- CSS DARK MODE - LAYOUT 2 C·ªòT (PREMIUM vs STANDARD) --- */
        .package-section { 
            padding: 80px 0; 
            background-color: #0b0b0b; /* N·ªÅn ƒëen s√¢u */
        }
        
        /* C·∫•u tr√∫c chung c·ªßa Card */
        .package-card {
            border-radius: 20px;
            padding: 40px 30px; 
            text-align: center; 
            transition: all 0.3s ease;
            height: 100%; 
            display: flex; 
            flex-direction: column; 
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        /* --- STYLE 1: G√ìI PREMIUM (G√≥i ƒë·∫ßu ti√™n - M√†u ƒê·ªè) --- */
        .card-premium {
            background: linear-gradient(135deg, #dc3545 0%, #a71d2a 100%); /* Gradient ƒë·ªè */
            border: none;
            box-shadow: 0 10px 40px rgba(220, 53, 69, 0.4);
            transform: scale(1.02); /* To h∆°n m·ªôt ch√∫t ƒë·ªÉ n·ªïi b·∫≠t */
        }
        .card-premium .package-name, 
        .card-premium .package-price, 
        .card-premium .package-sub,
        .card-premium i {
            color: #ffffff !important; /* Ch·ªØ tr·∫Øng h·∫øt */
        }
        .card-premium .btn-join {
            background: #ffffff;
            color: #dc3545;
            border: none;
        }
        .card-premium .btn-join:hover {
            background: #f8f9fa;
            color: #b02a37;
        }
        .card-premium .package-features {
            border-top: 1px solid rgba(255,255,255,0.3);
            color: #f8f9fa;
        }

        /* --- STYLE 2: G√ìI STANDARD (G√≥i th·ª© hai - M√†u ƒêen) --- */
        .card-standard {
            background: #151515;
            border: 2px solid #333;
        }
        .card-standard:hover {
            border-color: #dc3545;
            transform: translateY(-5px);
        }
        .card-standard .package-name { color: #fff; }
        .card-standard .package-price { color: #dc3545; }
        .card-standard .package-sub { color: #9ca3af; }
        .card-standard .btn-join {
            background: transparent;
            border: 2px solid #dc3545;
            color: #fff;
        }
        .card-standard .btn-join:hover {
            background: #dc3545;
            color: #fff;
        }
        .card-standard .package-features {
            border-top: 1px solid #333;
            color: #d1d5db;
        }
        .card-standard i { color: #dc3545; }

        /* TYPOGRAPHY CHUNG */
        .package-name { 
            font-size: 2rem; font-weight: 800; text-transform: uppercase; margin-bottom: 5px; 
        }
        .package-sub { font-size: 0.95rem; margin-bottom: 25px; }
        .package-price { 
            font-size: 3.5rem; font-weight: 900; margin-bottom: 20px; line-height: 1; font-family: 'Poppins', sans-serif;
        }
        .package-price span { font-size: 1.2rem; font-weight: 500; opacity: 0.8; }
        
        .btn-join {
            padding: 15px 30px; border-radius: 50px; font-weight: 700; width: 100%; 
            text-transform: uppercase; margin-bottom: 25px; transition: 0.3s; cursor: pointer;
            text-decoration: none; display: inline-block;
        }

        .package-features { list-style: none; padding: 0; text-align: left; margin-top: auto; padding-top: 25px; }
        .package-features li { margin-bottom: 15px; display: flex; align-items: center; font-size: 1rem; }
        .package-features i { margin-right: 12px; font-size: 1.1rem; }
        
        .link-detail {
            color: inherit; text-decoration: none; font-weight: 600; opacity: 0.8; transition: 0.3s;
        }
        .link-detail:hover { opacity: 1; text-decoration: underline; color: inherit;}
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="logo">
                <div class="logo-icon">920</div>
                <div class="logo-text">Gym<span>Kayy</span></div>
            </a>

            <ul class="nav-menu">
                <li><a href="index.html" class="active">Trang ch·ªß</a></li>
                <li><a href="kien-thuc.html" class="active" >Ki·∫øn th·ª©c t·∫≠p luy·ªán</a></li>
                <li><a href="promotions.html">Khuy·∫øn m√£i <span style="font-size: 10px; background: #dc3545; padding: 2px 5px; border-radius: 4px; vertical-align: top;">HOT</span></a></li>
                <li id="menu-my-package" style="display: none;">
                    <a href="pages/member/dashboard.html" >
                        <i class="fas fa-crown"></i> G√≥i T·∫≠p C·ªßa T√¥i
                    </a>
                </li>
                <li id="menu-schedule" style="display: none;">
                    <a href="pages/member/schedule.html">
                        <i class="fas fa-calendar-days"></i> L·ªãch t·∫≠p
                    </a>
                </li>
                <li id="menu-profile" style="display: none;">
                    <a href="pages/member/profile.html">
                        <i class="fas fa-user-circle"></i> T√¥i
                    </a>
                </li>
            </ul>

            <div id="auth-section">
                <a href="login.html" class="btn-login">ƒêƒÉng nh·∫≠p</a>
            </div>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <div class="hero-badge">üî• Gym chuy√™n nghi·ªáp #1 Vi·ªát Nam</div>
                <h1 class="hero-title">
                    KH·ªûI NGU·ªíN
                    <span>S·ª®C M·∫†NH</span>
                </h1>
                <p class="hero-description">
                    N∆°i gi·∫•c m∆° v·ªÅ th·ªÉ h√¨nh ho√†n h·∫£o tr·ªü th√†nh hi·ªán th·ª±c. Trang thi·∫øt b·ªã hi·ªán ƒë·∫°i, 
                    hu·∫•n luy·ªán vi√™n chuy√™n nghi·ªáp, v√† c·ªông ƒë·ªìng ƒëam m√™ th·ªÉ thao ƒëang ch·ªù ƒë√≥n b·∫°n.
                </p>
                <div class="hero-cta">
                    <a href="register.html" class="btn-primary">Tham gia ngay</a>
                </div>
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">15K+</div>
                        <div class="stat-label">H·ªôi vi√™n</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">50+</div>
                        <div class="stat-label">HLV chuy√™n nghi·ªáp</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">M·ªü c·ª≠a</div>
                    </div>
                </div>
            </div>
            <div class="hero-image">
                <div class="hero-image-wrapper">
                    <img class="hero-visual" src="./assets/img/nodaysoff.jpg" >
                </div>
                <div class="hero-floating-card floating-card-1">
                    <div class="card-icon">
                        <img src="./assets/img/pexels-photo-1229356.jpg" >
                    </div>
                    <div class="card-title">500+ Thi·∫øt b·ªã</div>
                    <div class="card-subtitle">Hi·ªán ƒë·∫°i & ƒêa d·∫°ng</div>
                </div>
                <div class="hero-floating-card floating-card-2">
                    <div class="card-icon"><img src="./assets/img/gb-botanica-gym-link-spaces-slough.jpg" ></div>
                    <div class="card-title">ƒê·∫°t chu·∫©n Qu·ªëc t·∫ø</div>
                    <div class="card-subtitle">Ch·ª©ng nh·∫≠n ISO 9001</div>
                </div>
            </div>
        </div>
    </section>

    <section class="package-section">
        <div class="container">
            <div class="text-center mb-5">
                <h2 style="color: #fff; font-weight: 900; font-size: 2.5rem; text-transform: uppercase;">
                    H·ªôi Vi√™n <span style="color: #dc3545;">GymKayy</span>
                </h2>
                <p style="color: #9ca3af;">Ch·ªçn g√≥i t·∫≠p ph√π h·ª£p v·ªõi m·ª•c ti√™u c·ªßa b·∫°n</p>
            </div>

            <div class="row g-4 justify-content-center" id="homePackageList">
                <div class="col-12 text-center text-white">
                    <div class="spinner-border text-danger" role="status"></div>
                    <p class="mt-2">ƒêang t·∫£i b·∫£ng gi√°...</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-brand">
                <div class="footer-logo">
                    <div class="logo-icon">920</div>
                    <div class="logo-text">Gym<span>Kayy</span></div>
                </div>
                <p class="footer-description">PowerFit / GymKayy cung c·∫•p m√¥i tr∆∞·ªùng t·∫≠p luy·ªán hi·ªán ƒë·∫°i, HLV chuy√™n nghi·ªáp v√† c·ªông ƒë·ªìng h·ªó tr·ª£ ph√°t tri·ªÉn b·ªÅn v·ªØng.</p>
                <div class="footer-social">
                    <a class="social-link" href="#" aria-label="Facebook">f</a>
                    <a class="social-link" href="#" aria-label="Instagram">üì∑</a>
                    <a class="social-link" href="#" aria-label="YouTube">‚ñ∂</a>
                </div>
            </div>

            <div class="footer-section">
                <h3>V·ªÅ ch√∫ng t√¥i</h3>
                <ul class="footer-links">
                    <li><a href="#">Gi·ªõi thi·ªáu</a></li>
                    <li><a href="#">G√≥i t·∫≠p</a></li>
                    <li><a href="#">Tin t·ª©c</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>H·ªó tr·ª£</h3>
                <ul class="footer-links">
                    <li><a href="#">Li√™n h·ªá</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Ch√≠nh s√°ch</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Li√™n h·ªá</h3>
                <ul class="footer-links">
                    <li><a href="#">Hotline: 1900-000</a></li>
                    <li><a href="#">Email: info@gymkay.com</a></li>
                    <li><a href="#">ƒê·ªãa ch·ªâ: Th√†nh ph·ªë H·ªì Ch√≠ Minh, Vi·ªát Nam</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="footer-copyright">¬© 2025 PowerFit Gym ‚Äî GymKayy. All rights reserved.</div>
            <div class="footer-links-bottom">
                <a href="#">Privacy</a> ¬∑ <a href="#">Terms</a>
            </div>
        </div>
    </footer>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        // 1. Ki·ªÉm tra Login
        const token = localStorage.getItem('gym_token');
        const userStr = localStorage.getItem('gym_user');
        
        if (token && userStr) {
            const user = JSON.parse(userStr);
            // 1. Hi·ªán menu "G√≥i t·∫≠p"
            const menuPackage = document.getElementById('menu-my-package');
            if(menuPackage) menuPackage.style.display = 'block';

            // 2. Hi·ªán menu "L·ªãch t·∫≠p" (CODE M·ªöI TH√äM)
            const menuSchedule = document.getElementById('menu-schedule');
            if(menuSchedule) menuSchedule.style.display = 'block';

            // 3. Hi·ªán menu "T√¥i"
            const menuProfile = document.getElementById('menu-profile');
            if(menuProfile) menuProfile.style.display = 'block';

            // C. Thay n√∫t "ƒêƒÉng nh·∫≠p" th√†nh "Xin ch√†o..."
            const authSection = document.getElementById('auth-section');
            if(authSection) {
                authSection.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="color: white; font-weight: 500;">Hi, ${user.name}</span>
                        <button onclick="handleLogout()" style="background: transparent; border: 1px solid #dc3545; color: #dc3545; padding: 5px 15px; border-radius: 4px; cursor: pointer;">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                `;
            }
        }
    });

    // H√†m ƒêƒÉng xu·∫•t
    function handleLogout() {
        if(confirm("B·∫°n mu·ªën ƒëƒÉng xu·∫•t?")) {
            localStorage.removeItem('gym_token');
            localStorage.removeItem('gym_user');
            window.location.reload(); 
        }
    }

    // C·∫•u h√¨nh URL API
    const API_BASE_URL = 'http://localhost/QLPG/public/api';

    // H√†m t·∫£i g√≥i t·∫≠p (Layout 2 c·ªôt ƒê·ªè - ƒêen)
    async function loadPackagesHome() {
        try {
            const response = await fetch(`${API_BASE_URL}/packages`);
            const result = await response.json();

            const container = document.getElementById('homePackageList');
            container.innerHTML = ''; 

            if (result.status && result.data.length > 0) {
                // CH·ªà L·∫§Y 2 G√ìI ƒê·∫¶U TI√äN
                const packagesToShow = result.data.slice(0, 2);

                packagesToShow.forEach((pkg, index) => {
                    const price = new Intl.NumberFormat('vi-VN').format(pkg.price);
                    
                    // X·ª≠ l√Ω hi·ªÉn th·ªã th√°ng/ng√†y
                    let durationText = pkg.duration_days >= 30 
                        ? `/ ${Math.round(pkg.duration_days / 30)} Th√°ng` 
                        : `/ ${pkg.duration_days} Ng√†y`;

                    // G√ìI 1: Premium (ƒê·ªè), G√ìI 2: Standard (ƒêen)
                    const cardClass = index === 0 ? 'card-premium' : 'card-standard';
                    const subTitle = index === 0 
                        ? 'T·∫≠p luy·ªán kh√¥ng gi·ªõi h·∫°n to√†n h·ªá th·ªëng' 
                        : 'G√≥i t·∫≠p c∆° b·∫£n ti·∫øt ki·ªám';
                    const extraFeature = index === 0 
                        ? '<li><i class="fas fa-check-circle"></i> <b>T·∫∑ng 1 bu·ªïi PT ƒë·ªãnh h∆∞·ªõng</b></li>' 
                        : '';

                    container.innerHTML += `
                        <div class="col-lg-5 col-md-6">
                            <div class="package-card ${cardClass}">
                                <div>
                                    <h3 class="package-name">${pkg.name}</h3>
                                    <div class="package-sub">${subTitle}</div>
                                    
                                    <div class="package-price">
                                        ${price} <span>${durationText}</span>
                                    </div>

                                    <a href="register.html" class="btn btn-join">
                                        Tham gia g√≥i <i class="fas fa-arrow-right"></i>
                                    </a>

                                    <ul class="package-features">
                                        <li><i class="fas fa-check-circle"></i> T·∫≠p luy·ªán t·∫°i t·∫•t c·∫£ chi nh√°nh</li>
                                        <li><i class="fas fa-check-circle"></i> Check-in FaceID hi·ªán ƒë·∫°i</li>
                                        <li><i class="fas fa-check-circle"></i> Mi·ªÖn ph√≠ t·ªß ƒë·ªì E-Locker</li>
                                        ${extraFeature}
                                    </ul>
                                </div>
                                
                                <div style="margin-top: 20px; font-size: 0.9rem;">
                                    <a href="#" class="link-detail">
                                        Xem chi ti·∫øt <i class="fas fa-angle-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    `;
                });
            } else {
                container.innerHTML = '<p class="text-white text-center">Ch∆∞a c√≥ g√≥i t·∫≠p n√†o.</p>';
            }
        } catch (error) {
            console.error(error);
            document.getElementById('homePackageList').innerHTML = '<p class="text-danger text-center">L·ªói k·∫øt n·ªëi Server!</p>';
        }
    }

    // Ch·∫°y ngay khi t·∫£i trang
    loadPackagesHome();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>